(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[4545],{760:(e,t,r)=>{"use strict";r.d(t,{N:()=>y});var n=r(5155),i=r(2115),s=r(869),o=r(2885),a=r(7494),l=r(845),c=r(7351),u=r(1508);class p extends i.Component{getSnapshotBeforeUpdate(e){let t=this.props.childRef.current;if(t&&e.isPresent&&!this.props.isPresent){let e=t.offsetParent,r=(0,c.s)(e)&&e.offsetWidth||0,n=this.props.sizeRef.current;n.height=t.offsetHeight||0,n.width=t.offsetWidth||0,n.top=t.offsetTop,n.left=t.offsetLeft,n.right=r-n.width-n.left}return null}componentDidUpdate(){}render(){return this.props.children}}function d(e){let{children:t,isPresent:r,anchorX:s,root:o}=e,a=(0,i.useId)(),l=(0,i.useRef)(null),c=(0,i.useRef)({width:0,height:0,top:0,left:0,right:0}),{nonce:d}=(0,i.useContext)(u.Q);return(0,i.useInsertionEffect)(()=>{let{width:e,height:t,top:n,left:i,right:u}=c.current;if(r||!l.current||!e||!t)return;l.current.dataset.motionPopId=a;let p=document.createElement("style");d&&(p.nonce=d);let f=null!=o?o:document.head;return f.appendChild(p),p.sheet&&p.sheet.insertRule('\n          [data-motion-pop-id="'.concat(a,'"] {\n            position: absolute !important;\n            width: ').concat(e,"px !important;\n            height: ").concat(t,"px !important;\n            ").concat("left"===s?"left: ".concat(i):"right: ".concat(u),"px !important;\n            top: ").concat(n,"px !important;\n          }\n        ")),()=>{f.contains(p)&&f.removeChild(p)}},[r]),(0,n.jsx)(p,{isPresent:r,childRef:l,sizeRef:c,children:i.cloneElement(t,{ref:l})})}let f=e=>{let{children:t,initial:r,isPresent:s,onExitComplete:a,custom:c,presenceAffectsLayout:u,mode:p,anchorX:f,root:m}=e,v=(0,o.M)(h),g=(0,i.useId)(),y=!0,w=(0,i.useMemo)(()=>(y=!1,{id:g,initial:r,isPresent:s,custom:c,onExitComplete:e=>{for(let t of(v.set(e,!0),v.values()))if(!t)return;a&&a()},register:e=>(v.set(e,!1),()=>v.delete(e))}),[s,v,a]);return u&&y&&(w={...w}),(0,i.useMemo)(()=>{v.forEach((e,t)=>v.set(t,!1))},[s]),i.useEffect(()=>{s||v.size||!a||a()},[s]),"popLayout"===p&&(t=(0,n.jsx)(d,{isPresent:s,anchorX:f,root:m,children:t})),(0,n.jsx)(l.t.Provider,{value:w,children:t})};function h(){return new Map}var m=r(2082);let v=e=>e.key||"";function g(e){let t=[];return i.Children.forEach(e,e=>{(0,i.isValidElement)(e)&&t.push(e)}),t}let y=e=>{let{children:t,custom:r,initial:l=!0,onExitComplete:c,presenceAffectsLayout:u=!0,mode:p="sync",propagate:d=!1,anchorX:h="left",root:y}=e,[w,E]=(0,m.xQ)(d),j=(0,i.useMemo)(()=>g(t),[t]),x=d&&!w?[]:j.map(v),S=(0,i.useRef)(!0),b=(0,i.useRef)(j),R=(0,o.M)(()=>new Map),[k,C]=(0,i.useState)(j),[P,I]=(0,i.useState)(j);(0,a.E)(()=>{S.current=!1,b.current=j;for(let e=0;e<P.length;e++){let t=v(P[e]);x.includes(t)?R.delete(t):!0!==R.get(t)&&R.set(t,!1)}},[P,x.length,x.join("-")]);let N=[];if(j!==k){let e=[...j];for(let t=0;t<P.length;t++){let r=P[t],n=v(r);x.includes(n)||(e.splice(t,0,r),N.push(r))}return"wait"===p&&N.length&&(e=N),I(g(e)),C(j),null}let{forceRender:_}=(0,i.useContext)(s.L);return(0,n.jsx)(n.Fragment,{children:P.map(e=>{let t=v(e),i=(!d||!!w)&&(j===P||x.includes(t));return(0,n.jsx)(f,{isPresent:i,initial:(!S.current||!!l)&&void 0,custom:r,presenceAffectsLayout:u,mode:p,root:y,onExitComplete:i?void 0:()=>{if(!R.has(t))return;R.set(t,!0);let e=!0;R.forEach(t=>{t||(e=!1)}),e&&(null==_||_(),I(b.current),d&&(null==E||E()),c&&c())},anchorX:h,children:e},t)})})}},1699:(e,t,r)=>{"use strict";r.d(t,{A:()=>a});var n=r(5155),i=r(2115),s=r(760),o=r(465);function a(e){let{color:t="#ffffff",loading:r}=e,[a,l]=(0,i.useState)(!0);return(0,i.useEffect)(()=>{if("boolean"==typeof r)l(r);else{let e=setTimeout(()=>l(!1),200);return()=>clearTimeout(e)}},[r]),(0,n.jsx)(s.N,{children:a&&(0,n.jsx)(o.P.div,{initial:{opacity:1},animate:{opacity:+(!1!==r)},exit:{opacity:0},transition:{duration:.3},style:{position:"fixed",inset:0,zIndex:9999,backgroundColor:t,pointerEvents:"none"}})})}},2810:e=>{"use strict";e.exports=JSON.parse('{"_":[{"name":"ENTREPRENER","slug":"entreprener","proCredits":1,"price":70,"currency":"EUR","emoji":"\uD83D\uDCB6","productId":"prod_SxRShzrhP9NGZa","displayPrice":"70€","description":"1 pro credit — great for testing AI implementation"},{"name":"OWNER","slug":"owner","proCredits":12,"price":400,"currency":"EUR","emoji":"","productId":"prod_SxRRlIyuMqTzbb","displayPrice":"400€","description":"12 pro credits — ideal for small business owners"},{"name":"BUSINESS","slug":"business","proCredits":50,"price":1000,"currency":"EUR","emoji":"\uD83D\uDCB6","productId":"prod_SxRQVqlqCJ8n6R","displayPrice":"1000€","description":"50 pro credits — for growing or established businesses"}]}')},3905:(e,t,r)=>{"use strict";r.r(t),r.d(t,{default:()=>C});var n,i=r(5155),s=r(2115),o=r(5695),a=r(2810),l="basil",c="https://js.stripe.com",u="".concat(c,"/").concat(l,"/stripe.js"),p=/^https:\/\/js\.stripe\.com\/v3\/?(\?.*)?$/,d=/^https:\/\/js\.stripe\.com\/(v3|[a-z]+)\/stripe\.js(\?.*)?$/,f=function(){for(var e=document.querySelectorAll('script[src^="'.concat(c,'"]')),t=0;t<e.length;t++){var r,n=e[t];if(r=n.src,p.test(r)||d.test(r))return n}return null},h=function(e){var t=e&&!e.advancedFraudSignals?"?advancedFraudSignals=false":"",r=document.createElement("script");r.src="".concat(u).concat(t);var n=document.head||document.body;if(!n)throw Error("Expected document.body not to be null. Stripe.js requires a <body> element.");return n.appendChild(r),r},m=function(e,t){e&&e._registerWrapper&&e._registerWrapper({name:"stripe-js",version:"7.9.0",startTime:t})},v=null,g=null,y=null,w=function(e,t,r){if(null===e)return null;var n,i=t[0].match(/^pk_test/),s=3===(n=e.version)?"v3":n;i&&s!==l&&console.warn("Stripe.js@".concat(s," was loaded on the page, but @stripe/stripe-js@").concat("7.9.0"," expected Stripe.js@").concat(l,". This may result in unexpected behavior. For more information, see https://docs.stripe.com/sdks/stripejs-versioning"));var o=e.apply(void 0,t);return m(o,r),o},E=!1,j=function(){return n?n:n=(null!==v?v:(v=new Promise(function(e,t){if("undefined"==typeof window||"undefined"==typeof document)return void e(null);if(window.Stripe,window.Stripe)return void e(window.Stripe);try{var r,n=f();n?n&&null!==y&&null!==g&&(n.removeEventListener("load",y),n.removeEventListener("error",g),null==(r=n.parentNode)||r.removeChild(n),n=h(null)):n=h(null),y=function(){window.Stripe?e(window.Stripe):t(Error("Stripe.js not available"))},g=function(e){t(Error("Failed to load Stripe.js",{cause:e}))},n.addEventListener("load",y),n.addEventListener("error",g)}catch(e){t(e);return}})).catch(function(e){return v=null,Promise.reject(e)})).catch(function(e){return n=null,Promise.reject(e)})};Promise.resolve().then(function(){return j()}).catch(function(e){E||console.warn(e)});var x=r(7947);let S=function(){for(var e=arguments.length,t=Array(e),r=0;r<e;r++)t[r]=arguments[r];E=!0;var n=Date.now();return j().then(function(e){return w(e,t,n)})}("pk_live_51RoNUuRw1hiYFDnx4XGR0Io5zK7FjOfW5s1hoYk2K1laQ9pVPUlF4nu8dy5r1XpskvIJ4uWKgf4nCQozeXTYEdn300TinMBNaQ");async function b(e,t,r){console.log(t);try{let n=await fetch(x.Vd+x.JG,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({email:e,productId:t,customerId:r})}),i=await n.json();if(!n.ok)throw Error(i.error||"Checkout session failed");let s=await S;if(!s)throw Error("Stripe failed to load");await s.redirectToCheckout({sessionId:i.sessionId})}catch(e){console.error("❌ Stripe checkout error:",e),alert("Checkout failed. Check console.")}}var R=r(4540),k=r(1699);function C(){let e=(0,o.useParams)(),t=null==e?void 0:e.slug,r=(0,o.useRouter)(),[n,l]=(0,s.useState)(!0),[c,u]=(0,s.useState)(null),{isAuthenticated:p,user:d}=(0,R.d4)(e=>e.auth);return((0,s.useEffect)(()=>{if(!p)return void r.replace("/checkout/session-error");let e=a._.find(e=>e.slug===t);if(!e)return void r.replace("/pricing");u(e),(async()=>{try{await b(null==d?void 0:d.email,e.productId,null==d?void 0:d.userId)}catch(e){console.error(e)}finally{l(!1)}})()},[t,d,r]),c)?(0,i.jsx)("div",{className:"checkout-container",children:n?(0,i.jsx)(k.A,{loading:n}):(0,i.jsx)("div",{children:(0,i.jsx)("p",{children:"Something went wrong. Please try again."})})}):(0,i.jsx)("div",{className:"checkout-container",children:(0,i.jsx)("p",{children:"Loading product..."})})}},5234:(e,t,r)=>{Promise.resolve().then(r.bind(r,3905))},7947:e=>{"use strict";e.exports=JSON.parse('{"Vd":"http://localhost:8000","$6":"/api/users/login","ib":"/api/users/signup","JA":"/api/users/verifyemail","WO":"/api/users/updateuser","rM":"/api/blog/getlatestarticles","C":"/api/blog/getolderarticles","kb":"/api/corporate/contact","Dz":"/api/blog/getrecommandations","Kd":"/api/analysis/createprocess","Xi":"/api/analysis/accept-agreement","ST":"/api/analysis/update-input","WI":"/api/analysis/get-analysis-from-id","JG":"/api/payment/create-checkout-session","kZ":"/api/users/update-username","Uy":"/api/users/update-bio","MA":"/api/users/update-country","iz":"/api/payment/get-user-payments","Gb":"/api/analysis/get-user-analyses","mP":"/api/payment/get-user-credits","V$":"/api/payment/unlock-analysis","hG":"/api/users/delete-user"}')}},e=>{var t=t=>e(e.s=t);e.O(0,[465,7466,8441,1684,7358],()=>t(5234)),_N_E=e.O()}]);